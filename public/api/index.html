<!DOCTYPE html>
<html>
<head>
    <title>ipfs-search alpha</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
</head>
<body>
    <h1>ipfs-search alpha</h1>
    <h2><span class="uglyred">NEW</span>: <a href="https://github.com/ipfs-search/ipfs-search/blob/master/docs/snapshots.md">Snapshots</a>!</h2>
    <h2>Search</h2>
    <p>Not much here yet, but try:
        <code>GET <a href="/v1/search?q=water">/v1/search?q=water&type=file</a></code>
    </p>

    <h2>Example</h2>
    <pre>{
    "total": 10000,
    "max_score": 41.661648,
    "hits": [
        {
            "hash": "bafybeigtuyici4rove5cos3ak5modqodkhez6s7z4ij3ti6icp5fr55lwq",
            "title": "th.jpe-<em>water</em>-photo-300x225.jpe",
            "description": null,
            "type": "file",
            "size": 13193,
            "first-seen": "2020-07-22T22:37:01Z",
            "last-seen": "2020-07-22T22:44:43Z",
            "score": 41.661648,
            "references": [
                {
                    "name": "th.jpe-water-photo-300x225.jpe",
                    "parent_hash": "QmcwoZUz6bdWhwLjMxzSVitc1Srpe1pJtyZ3XVgdxYMAr2"
                },
                {
                    "name": "th.jpe-water-photo-300x225.jpe",
                    "parent_hash": "QmReHsha5wQBGuEMNPdRceNPebSp7nQR8RkfZB4R4wwuCc"
                }
            ],
            "mimetype": "image/jpeg"
        },
        {
            "hash": "bafybeicgvsglr4mziieciu56gbdpv5joqdpykrq65ijlrhhxb2rdo6pyyq",
            "title": "th.jpe-<em>water</em>-photo-150x150.jpe",
            "description": null,
            "type": "file",
            "size": 5644,
            "first-seen": "2020-07-22T22:37:01Z",
            "last-seen": "2020-07-22T22:44:43Z",
            "score": 41.203224,
            "references": [
                {
                    "name": "th.jpe-water-photo-150x150.jpe",
                    "parent_hash": "QmcwoZUz6bdWhwLjMxzSVitc1Srpe1pJtyZ3XVgdxYMAr2"
                },
                {
                    "name": "th.jpe-water-photo-150x150.jpe",
                    "parent_hash": "QmReHsha5wQBGuEMNPdRceNPebSp7nQR8RkfZB4R4wwuCc"
                }
            ],
            "mimetype": "image/jpeg"
        },
        ...
    ]
}</pre>

    <h2>Advanced queries</h2>
    <p>It's possible to query on specific fields, like the filename:<br>
        <code>GET <a href="/v1/search?q=something">/v1/search?q=references.name:*.html</a></code>
    </p>
    <p>And by type (currently, `file` and `directory`):<br>
        <code>GET <a href="/v1/search?q=type:directory">/v1/search?q=type:directory</a></code>
    </p>
    <p>Only consider objects seen within the last month:<br>
        <code>GET <a href="/v1/search?q=last-seen:&gt;now-1M">/v1/search?q=last-seen:&gt;now-1M</a></code>
    </p>
    <p>Find all items linking here:<br>
        <code>GET <a href="/v1/search?q=references.parent_hash:QmVFHYaqPHJ7vg2DcszELhyQ7pJXLjHgx33FBwgbiWRQKi">/v1/search?q=references.parent_hash:QmVFHYaqPHJ7vg2DcszELhyQ7pJXLjHgx33FBwgbiWRQKi</a></code>
    </p>
    <p>
        List only images:<br>
        <code>GET <a href="/v1/search?q=metadata.Content-Type:image*">/v1/search?q=metadata.Content-Type:image*</a></code>
    </p>

    <p>A list of fields which are index, and therefore can be queried, can be extracted from our <a href="https://github.com/ipfs-search/ipfs-search/blob/master/reindex/v5.json">index specification</a>.</p>

    <h2 id="metadata">Metadata</h2>
    <p>Brand new, Tika-extracted metadata for files on IPFS!</p>

    <p>Try:
        <code>GET <a href="/v1/metadata/QmSTAxpZCmotrXVRjiaftHJRW6wXpH8tXAyax94Jhxq8bZ/">/v1/metadata/QmSTAxpZCmotrXVRjiaftHJRW6wXpH8tXAyax94Jhxq8bZ/</a></code>
    </p>

    <h2>Example</h2>
    <pre>{
    "metadata":{
        "xmpDM:genre":[
            "Soundtrack"
        ],
        "xmpDM:composer":[
            "Nobuo Uematsu"
        ],
        "X-Parsed-By":[
            "org.apache.tika.parser.DefaultParser",
            "org.apache.tika.parser.mp3.Mp3Parser"
        ],
        "creator":[
            ""
        ],
        "xmpDM:album":[
            "\"Final Fantasy IX\" Original Soundtrack, Disk 4"
        ],
        "xmpDM:trackNumber":[
            "24"
        ],
        "xmpDM:releaseDate":[
            "2000"
        ],
        "meta:author":[
            ""
        ],
        "xmpDM:artist":[
            ""
        ],
        "dc:creator":[
            ""
        ],
        "xmpDM:audioCompressor":[
            "MP3"
        ],
        "resourceName":[
            "24-Coca Cola TV CM 1.mp3"
        ],
        "title":[
            "Coca Cola TV CM 1"
        ],
        "xmpDM:audioChannelType":[
            "Stereo"
        ],
        "version":[
            "MPEG 3 Layer III Version 1"
        ],
        "xmpDM:logComment":[
            "eng - \nhttp://www.ffdream.com"
        ],
        "xmpDM:audioSampleRate":[
            "44100"
        ],
        "channels":[
            "2"
        ],
        "dc:title":[
            "Coca Cola TV CM 1"
        ],
        "Author":[
            ""
        ],
        "xmpDM:duration":[
            "20218.76953125"
        ],
        "Content-Type":[
            "audio/mpeg"
        ],
        "samplerate":[
            "44100"
        ]
    },
    "version":1,
    "type":"file"
}</pre>
`
    <h2>Code</h2>
    <p><a href="https://github.com/ipfs-search/ipfs-search">https://github.com/ipfs-search/ipfs-search</a></p>

    <h2>Demo</h2>
    <p><a href="https://youtu.be/jnpmCXuQ1WA?t=1h13m53s">Introduction during 'apps on IPFS' conference call.</a></p>

    <h2>Contact</h2>
    <p>Mathijs de Bruin <a href="mailto:info@ipfs-search.com">info@ipfs-search.com</a></p>
</body>
</html>
